<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>***zoolog***:  
 Zooarcheological Analysis with Log-Ratios • zoolog</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="***zoolog***:  
 Zooarcheological Analysis with Log-Ratios">
<meta property="og:description" content="zoolog">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">zoolog</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/index.html">***zoolog***:  
 Zooarcheological Analysis with Log-Ratios</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/josempozo/zoolog/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="index_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>
<strong><em>zoolog</em></strong>:<br>
Zooarcheological Analysis with Log-Ratios</h1>
                        <h4 class="author">Jose M Pozo, Silvia Valenzuela-Lamas, Angela Trentacoste, Ariadna Nieto-Espinet and Silvia Guimarães Chiarelli</h4>
            
            <h4 class="date">2021-02-10</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/josempozo/zoolog/blob/master/vignettes/index.Rmd"><code>vignettes/index.Rmd</code></a></small>
      <div class="hidden name"><code>index.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>The package <em>zoolog</em> includes functions and reference data to generate and manipulate log-ratios (also known as log size index (LSI) values) from measurements obtained on zooarchaeological material. Log ratios are used to compare the relative (rather than the absolute) dimensions of animals from archaeological contexts <span class="citation">(Meadow 1999)</span>. Essentially, the method compares archaeological measurements to a standard, producing a value that indicates how much larger or smaller the archaeological specimen is compared to that standard. <em>zoolog</em> is also able to seamlessly integrate data and references with heterogeneous nomenclature, which is internally managed by a zoolog thesaurus.</p>
<p>The methods included in the package were first developed in the framework of the ERC-Starting Grant 716298 ZooMWest (PI S. Valenzuela-Lamas), and were first used in the paper <span class="citation">(Trentacoste, Nieto-Espinet, and Valenzuela-Lamas 2018)</span>. They are based on the techniques proposed by <span class="citation">Simpson (1941)</span> and <span class="citation">Simpson, Roe, and Lewontin (1960)</span>, which calculates <em>log size index</em> (LSI) values as: <span class="math display">\[
\mbox{LSI} = \log x - \log x_{\text{ref}} = \log(x/x_\text{ref}),
\]</span> where <span class="math inline">\(x\)</span> is the considered measure value and <span class="math inline">\(x_\text{ref}\)</span> is the corresponding reference value.</p>
<p>Several different sets of standard reference values are included in the package. These standards include several published and widely used biometric datasets (e.g. <span class="citation">Davis (1996)</span>, <span class="citation">Albarella and Payne (2005)</span>) as well as other less known standards. These references, as well as the data example provided with the package, are based on the measures and measure abbreviations defined in <span class="citation">Von den Driesch (1976)</span> and <span class="citation">Davis (1992)</span>.</p>
<p>In general, zooarcheological datasets are composed of skeletal remains representing many different anatomical body parts. In investigation of animal size, the analysis of measurements from a given anatomical element provides the best control for the variables affecting size and shape and, as such, it is the preferable option. Unfortunately, this approach is not always viable due to low sample sizes in some archaeological assemblages. This problem can be mitigated by calculating the LSI values for measurements with respect to a reference, which provides a means of aggregating biometric information from different body parts. The resulting log ratios can be compared and statistically analysed under reasonable conditions <span class="citation">(Albarella 2002)</span>. However, length and width measurements of different anatomical elements still should not be directly compared or aggregated for statistical analysis.</p>
<p>The package includes a <em>zoolog thesaurus</em> to facilitate its usage by research teams across the globe, and working in different languages and with different recording traditions. The thesaurus enables the <em>zoolog</em> package to recognises many different names for taxa and skeletal elements (e.g. “Bos taurus”, “Bos”, “BT”, “bovino”, “bota”). Consequently, there is no need to use a particular, standardised recording code for the names of different taxa or elements.</p>
<div id="acknowledgements" class="section level2">
<h2 class="hasAnchor">
<a href="#acknowledgements" class="anchor"></a>Acknowledgements</h2>
<p>We are particularly grateful to Sabine Deschler-Erb and Barbara Stopp, from the University of Basel (Switzerland) for making the reference values of several specimens available through the ICAZ Roman Period Working Group, which have been included here with their permission. We also thank Francesca Slim and Dimitris Filioglou from the University of Groningen for providing additional reference sets.</p>
<p>The thesaurus has benefited from the contributions from Moussab Besso, Canan Cakirlar, Jwana Chahoud, Jacopo De Grossi Mazzorin, Sabine Deschler-Erb, Dimitrios Filioglou, Armelle Gardeisen, Sierra Harding, Pilar Iborra, Michael MacKinnon, Nimrod Marom, Claudia Minniti, Francesca Slim, Barbara Stopp, and Emmanuelle Vila.</p>
<p>We are grateful to all of them for their contributions, comments, and help. In addition, users are encouraged to contribute to the thesaurus and other references so that <em>zoolog</em> can be expanded and adapted to any database.</p>
</div>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<p>You can install the released version of zoolog from <a href="https://CRAN.R-project.org">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"zoolog"</span><span class="op">)</span></code></pre></div>
<p>And the development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"josempozo/zoolog@HEAD"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span>, force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
</div>
<div id="reference-standards" class="section level1">
<h1 class="hasAnchor">
<a href="#reference-standards" class="anchor"></a>Reference standards</h1>
<p>The package <em>zoolog</em> includes several osteometrical references. Currently, the references include reference values for the main domesticates and their agriotypes (<em>Bos</em>, <em>Ovis</em>, <em>Capra</em>, <em>Sus</em>), and red deer (<em>Cervus elaphus</em>). These are drawn from a variety of publications and resources (see below). In addition, the user can consider other references, or the provided references can be extended and updated integrating newer research data. Submission of extended/improved references is encouraged. Please, contact the maintainer through the provided email address to make the new reference fully accessible within the package.</p>
<p>The predefined reference sets included in <em>zoolog</em> are provided in the named list <code>reference</code>, currently comprising the following 4 sets:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/josempozo/zoolog">zoolog</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">reference</span>, max.level <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="co">#&gt; List of 4</span>
<span class="co">#&gt;  $ NietoDavisAlbarella:'data.frame': 102 obs. of  4 variables:</span>
<span class="co">#&gt;  $ Basel              :'data.frame': 176 obs. of  4 variables:</span>
<span class="co">#&gt;  $ Combi              :'data.frame': 254 obs. of  4 variables:</span>
<span class="co">#&gt;  $ Groningen          :'data.frame': 246 obs. of  4 variables:</span></code></pre></div>
<p>The reference set <code>reference$Combi</code> is the default reference for computing the <a href="../help/LogRatios">log ratios</a>, since it includes the most comprehensive reference for each species.</p>
<p>The package includes also a <code>referencesDatabase</code> collecting the taxon-specific reference standards from all the considered resources. Each reference set is composed of a different combination of taxon-specific standards selected from this <code>referencesDatabase</code>. The selection is defined by the data frame <code>referenceSets</code>:</p>
<table class="table">
<colgroup>
<col width="13%">
<col width="7%">
<col width="11%">
<col width="7%">
<col width="11%">
<col width="9%">
<col width="10%">
<col width="10%">
<col width="7%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">Bos taurus</th>
<th align="left">Bos primigenius</th>
<th align="left">Ovis aries</th>
<th align="left">Ovis orientalis</th>
<th align="left">Capra hircus</th>
<th align="left">Capra aegagrus</th>
<th align="left">Sus domesticus</th>
<th align="left">Sus scrofa</th>
<th align="left">Cervus elaphus</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">NietoDavisAlbarella</td>
<td align="left">Nieto</td>
<td align="left"></td>
<td align="left">Davis</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">Albarella</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Basel</td>
<td align="left">Basel</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">Basel</td>
<td align="left">Basel</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">Basel</td>
<td align="left">Basel</td>
</tr>
<tr class="odd">
<td align="left">Combi</td>
<td align="left">Nieto</td>
<td align="left"></td>
<td align="left">Clutton</td>
<td align="left"></td>
<td align="left">Clutton</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">Basel</td>
<td align="left">Basel</td>
</tr>
<tr class="even">
<td align="left">Groningen</td>
<td align="left"></td>
<td align="left">Degerbol</td>
<td align="left"></td>
<td align="left">Uerpmann</td>
<td align="left"></td>
<td align="left">Uerpmann</td>
<td align="left"></td>
<td align="left">Hongo</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>A detailed description of the reference data, including its structure, properties, and considered resources can be found in the <a href="../help/referencesDatabase">ReferencesDatabase</a> help page.</p>
</div>
<div id="thesaurus" class="section level1">
<h1 class="hasAnchor">
<a href="#thesaurus" class="anchor"></a>Thesaurus</h1>
<p>A <a href="../help/zoologThesaurus">thesaurus set</a> is defined in order to make the package compatible with the different recording conventions and languages used by authors of zooarcheological datasets. This enables the function <a href="../help/LogRatios">LogRatios</a> to match values in the user’s dataset with the corresponding ones in the reference standard, regardless of differences in nomenclature or naming conventions, as long as both terms are included in the relevant thesaurus. The thesaurus also allows the user to <a href="../help/StandardizeNomenclature">standardize the nomenclature</a> of the dataset if desired.</p>
<p>The user can also use other thesaurus sets or modify the provided one. In this latter case, we encourage the user to contact the maintainer at the provided email address so that the additions can be incorporated into the new versions of the package.</p>
<p>Currently, the zoolog thesaurus set includes four thesauri:</p>
<dl>
<dt>identifierThesaurus</dt>
<dd>For the column names that identify the variables used in computing the log ratios. It includes the categories <em>Taxon</em>, <em>Element</em>, <em>Measure</em>, and <em>Standard</em>. Each category provides a series of equivalent names. For instance, <em>Taxon</em> includes the options <em>Taxon</em>, <em>TAX</em>, <em>species</em>, <em>animal</em>, <em>Specie</em>, <em>GenusSpecies</em>, <em>Especie</em>. This thesaurus is case, accent, and punctuation insensitive, so that, for instance, “Especie” is equivalent to “ESPECIE” or “Espècie”.
</dd>
<dt>taxonThesaurus</dt>
<dd>For the names of the different taxa when recording animal bones. The current categories are <em>Bos taurus</em>, <em>Bos primigenius</em>, <em>Ovis aries</em>, <em>Ovis orientalis</em>, <em>Capra hircus</em>, <em>Capra aegagrus</em>, <em>Ovis/Capra</em>, <em>Sus domesticus</em>, <em>Sus scrofa</em>, <em>Cervus elaphus</em>, each with different equivalent names. This thesaurus is case, accent, and punctuation insensitive, so that, for instance, “Bos” is equivalent to “bos”, “Bos.”, or “Bos ”.
</dd>
<dt>elementThesaurus</dt>
<dd>Names of anatomical elements when recording animal bones. It currently includes 39 categories (<em>scapula</em>, <em>humerus</em>, <em>radius</em>, …), each with different equivalent names. This thesaurus is case, accent, and punctuation insensitive.
</dd>
<dt>measureThesaurus</dt>
<dd>Names of the measurements. While the English abbreviations from <span class="citation">(Von den Driesch 1976)</span> and <span class="citation">(Davis 1992)</span> are widely used in published literature, this thesaurus enables other nomenclatures (e.g. original German abbreviations in <span class="citation">(Von den Driesch 1976)</span>) to be included. This thesaurus is case sensitive.
</dd>
</dl>
</div>
<div id="functions" class="section level1">
<h1 class="hasAnchor">
<a href="#functions" class="anchor"></a>Functions</h1>
<p>The full list of functions is available under the zoolog <em>help</em> page. We list them here sorted by their prominence for a typical user, and grouped by functionality:</p>
<dl>
<dt><a href="../help/LogRatios"><strong>LogRatios</strong></a></dt>
<dd>It computes the log ratios of the measurements in a dataset relative to standard reference values. By default <code>reference$Combi</code> is used. The function includes the option ‘joinCategories’ allowing several taxa (typically <em>Ovis</em>, <em>Capra</em>, and unknown <em>Ovis/Capra</em>) to be considered together with the same reference taxon.
</dd>
<dd>Note that without using ‘joinCategories’ any taxa not part of the selected reference set will be excluded. For instance, if using <code>reference$NietoDavisAlbarella</code>, log ratios for goats will not be calculated unless ‘joinCategories’ is set to indicate that the <em>Ovis aries</em> standard should also be applied to goats.
</dd>
<dt><a href="../help/CondenseLogs"><strong>CondenseLogs</strong></a></dt>
<dd>It condenses the calculated log ratio values into a reduced number of features by grouping several measure log ratios and selecting or calculating a representative feature value. By default the selected groups represent a single dimension, i.e. <em>Length</em> and <em>Width</em>. Only one feature is extracted per group. Currently, two methods are possible: “priority” (default) or “average”.
</dd>
<dd>This operation is motivated by two circumstances. First, not all measurements are available for every bone specimen, which obstructs their direct comparison and statistical analysis. Second, several measurements can be strongly correlated (e.g. SD and Bd both represent bone width). Thus, considering them as independent would produce an over-representation of bone remains with multiple measurements per axis. Condensing each group of measurements into a single feature (e.g. one measure per axis) alleviates both problems.
</dd>
<dd>The default method (“priority”), selects the first available log ratio in each group. Besides, <code>CondenseLogs</code> employs the following by-default group and prioritization introduced in <span class="citation">(Trentacoste, Nieto-Espinet, and Valenzuela-Lamas 2018)</span>: <em>Length</em>, considers in order of priority <em>GL</em>, <em>GLl</em>, <em>HTC</em>, and <em>GLm</em>. <em>Width</em>, considers in order of priority <em>Bd</em>, <em>BT</em>, <em>Bp</em>, <em>SD</em>, <em>Bfd</em>, and <em>Bfp</em>. This order maximises the robustness and reliability of the measurements, as priority is given to the most abundant, more replicable, and less age dependent measurements. But users can set their own features with any group of measures and priorities. The method ‘average’ extracts the mean per group, ignoring the non-available log ratios.
</dd>
<dt><a href="../help/RemoveNACases"><strong>RemoveNACases</strong></a></dt>
<dd>It removes the cases (table rows) for which all measurements of interest are non-available (NA). A particular list of measurement names can be explicitly provided or selected by a common initial pattern (e.g. prefix). The default setting removes the rows with no available log ratios to facilitate subsequent analysis of the data.
</dd>
<dt><a href="../help/InCategory"><strong>InCategory</strong></a></dt>
<dd>It checks if an element belongs to a category according to a thesarus. It is similar to <a href="../help/is.element">base::is.element</a>, returning a logical vector indicating if each element in a given vector is included in a given set. But <code>InCategory</code> checks for equality assuming the equivalencies defined in the given thesaurus. It is intended for the user to easily select a subset of data without having to standardize the analysed dataset.
</dd>
<dt><a href="../help/StandardizeNomenclature"><strong>Nomenclature standardization</strong></a></dt>
<dd>
<p>This includes two functions enabling the user to map data with heterogeneous nomenclature into a standard one as defined in a thesaurus:</p>
<ul>
<li>
<code>StandardizeNomenclature</code> standardizes a character vector according to a given thesaurus.</li>
<li>
<code>StandardizeDataSet</code> standardizes column names and values of a data frame according to a thesaurus set.</li>
</ul>
</dd>
<dt><a href="../help/AssembleReference"><strong>AssembleReference</strong></a></dt>
<dd>It allows the user to build new references assembling the desired taxon-specific references included in the <em>zoolog</em> <code>referencesDataSet</code> or in any other provided by the user.
</dd>
<dt><a href="../help/ThesaurusReaderWriter"><strong>Thesaurus readers and writers</strong></a></dt>
<dd>This includes functions to read and write a single thesaurus (<code>ReadThesaurus</code> and <code>WriteThesaurus</code>) and a thesaurus set (<code>ReadThesaurusSet</code> and <code>WriteThesaurusSet</code>).
</dd>
<dt><a href="../help/ThesaurusManagement"><strong>Thesaurus management</strong></a></dt>
<dd>
<p>This includes functions to modify and check thesauri:</p>
<ul>
<li>
<code>NewThesaurus</code> generates an empty thesarus.</li>
<li>
<code>AddToThesaurus</code> adds new names and categories to an existing thesaurus.</li>
<li>
<code>RemoveRepeatedNames</code> cleans a thesarus from any repeated names on any category.</li>
<li>
<code>ThesaurusAmbiguity</code> checks if there are names included in more than one category in a thesaurus.</li>
</ul>
</dd>
</dl>
</div>
<div id="examples" class="section level1">
<h1 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h1>
<p>The following examples are designed to be read and run sequentially. They represent a possible pipeline, meaningful for the processing and analysis of a dataset. Only occasionally, a small diversion is included to illustrate some alternatives.</p>
<div id="reading-data-and-calculating-log-ratios" class="section level2">
<h2 class="hasAnchor">
<a href="#reading-data-and-calculating-log-ratios" class="anchor"></a>Reading data and calculating log ratios</h2>
<p>This example reads a dataset from a file in csv format and computes the log-ratios. Then, the cases with no available log-ratios are removed. Finally, the resulting dataset is saved in a file in csv format.</p>
<p>The first step is to set the local path to the folder where you have the dataset to be analysed (this is typically a comma-separated value (csv) file). Here the <a href="../help/dataValenzuelaLamas2008">example dataset</a> from <span class="citation">(Valenzuela-Lamas 2008)</span> included in the package is used:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/josempozo/zoolog">zoolog</a></span><span class="op">)</span>
<span class="va">dataFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"dataValenzuelaLamas2008.csv.gz"</span>, 
                        package <span class="op">=</span> <span class="st">"zoolog"</span><span class="op">)</span>
<span class="va">data</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv2</a></span><span class="op">(</span><span class="va">dataFile</span>,
                 quote <span class="op">=</span> <span class="st">"\""</span>, header <span class="op">=</span> <span class="cn">TRUE</span>, na.strings <span class="op">=</span> <span class="st">""</span>,
                 fileEncoding <span class="op">=</span> <span class="st">"UTF-8"</span>,
                 stringsAsFactors <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">6</span><span class="op">:</span><span class="fl">20</span>,<span class="fl">32</span><span class="op">:</span><span class="fl">64</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Site</th>
<th align="right">N.inv</th>
<th align="right">UE</th>
<th align="left">Especie</th>
<th align="left">Os</th>
<th align="right">GL</th>
<th align="right">Bp</th>
<th align="right">Dp</th>
<th align="right">SD</th>
<th align="right">DD</th>
<th align="right">Bd</th>
<th align="right">Dd</th>
<th align="right">BT</th>
<th align="right">GLc</th>
<th align="left">BFd</th>
<th align="right">Dl</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">4918</td>
<td align="right">10364</td>
<td align="left">bota</td>
<td align="left">1 fal</td>
<td align="right">54.0</td>
<td align="right">31.3</td>
<td align="right">30.6</td>
<td align="right">28.1</td>
<td align="right">26.3</td>
<td align="right">27.5</td>
<td align="right">20.0</td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">ALP</td>
<td align="right">4919</td>
<td align="right">10364</td>
<td align="left">bota</td>
<td align="left">1 fal</td>
<td align="right">54.5</td>
<td align="right">27.9</td>
<td align="right">31.8</td>
<td align="right">26.0</td>
<td align="right">22.8</td>
<td align="right">25.3</td>
<td align="right">19.5</td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">3453</td>
<td align="right">10410</td>
<td align="left">ovar</td>
<td align="left">1fal ant</td>
<td align="right">27.1</td>
<td align="right">9.9</td>
<td align="right">12.3</td>
<td align="right">17.9</td>
<td align="right">9.0</td>
<td align="right">9.0</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">ALP</td>
<td align="right">3455</td>
<td align="right">10410</td>
<td align="left">ovar</td>
<td align="left">1fal ant</td>
<td align="right">27.6</td>
<td align="right">9.6</td>
<td align="right">12.2</td>
<td align="right">7.6</td>
<td align="right">8.9</td>
<td align="right">8.3</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">4245</td>
<td align="right">7036</td>
<td align="left">cahi</td>
<td align="left">hum</td>
<td align="right"></td>
<td align="right">128.3</td>
<td align="right"></td>
<td align="right">12.9</td>
<td align="right"></td>
<td align="right">27.4</td>
<td align="right">26.6</td>
<td align="right">23.6</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">ALP</td>
<td align="right">4674</td>
<td align="right">10227</td>
<td align="left">cahi</td>
<td align="left">hum</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">26.0</td>
<td align="right">25.7</td>
<td align="right">22.3</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
</tr>
</tbody>
</table>
<p>To enhance the visibility, we have shown only the most relevant columns.</p>
<p>We now calculate the log-ratios using the function <code>LogRatios</code>. Only measurements that have an associated standard will be included in this calculation. The log values will appear as new columns with the prefix ‘log’ following the original columns with the raw measurements:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dataWithLog</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/LogRatios.html">LogRatios</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dataWithLog</span><span class="op">)</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">6</span><span class="op">:</span><span class="fl">20</span>,<span class="fl">32</span><span class="op">:</span><span class="fl">64</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="1%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="1%">
</colgroup>
<thead><tr class="header">
<th align="left">Site</th>
<th align="right">N.inv</th>
<th align="right">UE</th>
<th align="left">Especie</th>
<th align="left">Os</th>
<th align="right">GL</th>
<th align="right">Bp</th>
<th align="right">Dp</th>
<th align="right">SD</th>
<th align="right">DD</th>
<th align="right">Bd</th>
<th align="right">Dd</th>
<th align="right">BT</th>
<th align="right">GLc</th>
<th align="left">BFd</th>
<th align="right">Dl</th>
<th align="right">logGL</th>
<th align="right">logBp</th>
<th align="right">logDp</th>
<th align="right">logSD</th>
<th align="right">logBd</th>
<th align="right">logDd</th>
<th align="right">logBT</th>
<th align="right">logGLc</th>
<th align="right">logBFd</th>
<th align="right">logDl</th>
<th align="right">logGB</th>
<th align="right">logSLC</th>
<th align="right">logGLP</th>
<th align="right">logBG</th>
<th align="right">logLG</th>
<th align="right">logDPA</th>
<th align="right">logBPC</th>
<th align="right">logLA</th>
<th align="right">logLAR</th>
<th align="right">logSH</th>
<th align="right">logL</th>
<th align="right">logH</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">4918</td>
<td align="right">10364</td>
<td align="left">bota</td>
<td align="left">1 fal</td>
<td align="right">54.0</td>
<td align="right">31.3</td>
<td align="right">30.6</td>
<td align="right">28.1</td>
<td align="right">26.3</td>
<td align="right">27.5</td>
<td align="right">20.0</td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">ALP</td>
<td align="right">4919</td>
<td align="right">10364</td>
<td align="left">bota</td>
<td align="left">1 fal</td>
<td align="right">54.5</td>
<td align="right">27.9</td>
<td align="right">31.8</td>
<td align="right">26.0</td>
<td align="right">22.8</td>
<td align="right">25.3</td>
<td align="right">19.5</td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">3453</td>
<td align="right">10410</td>
<td align="left">ovar</td>
<td align="left">1fal ant</td>
<td align="right">27.1</td>
<td align="right">9.9</td>
<td align="right">12.3</td>
<td align="right">17.9</td>
<td align="right">9.0</td>
<td align="right">9.0</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.1078605</td>
<td align="right">-0.0799118</td>
<td align="right">-0.0726593</td>
<td align="right">0.2629585</td>
<td align="right">-0.0891198</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">ALP</td>
<td align="right">3455</td>
<td align="right">10410</td>
<td align="left">ovar</td>
<td align="left">1fal ant</td>
<td align="right">27.6</td>
<td align="right">9.6</td>
<td align="right">12.2</td>
<td align="right">7.6</td>
<td align="right">8.9</td>
<td align="right">8.3</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.0999207</td>
<td align="right">-0.0932757</td>
<td align="right">-0.0762046</td>
<td align="right">-0.1090810</td>
<td align="right">-0.1242842</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">4245</td>
<td align="right">7036</td>
<td align="left">cahi</td>
<td align="left">hum</td>
<td align="right"></td>
<td align="right">128.3</td>
<td align="right"></td>
<td align="right">12.9</td>
<td align="right"></td>
<td align="right">27.4</td>
<td align="right">26.6</td>
<td align="right">23.6</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">0.4016796</td>
<td align="right"></td>
<td align="right">-0.2116296</td>
<td align="right">-0.1513050</td>
<td align="right">-0.0678788</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">ALP</td>
<td align="right">4674</td>
<td align="right">10227</td>
<td align="left">cahi</td>
<td align="left">hum</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">26.0</td>
<td align="right">25.7</td>
<td align="right">22.3</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.1740822</td>
<td align="right">-0.0828273</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
</tbody>
</table>
</div>
<div id="dealing-with-lazy-datasets" class="section level2">
<h2 class="hasAnchor">
<a href="#dealing-with-lazy-datasets" class="anchor"></a>Dealing with <em>lazy</em> datasets</h2>
<p>If we observe the example dataset more carefully, we can see that the measures recorded for the <em>astragali</em> presents a deviation from the measure definitions in <span class="citation">(Von den Driesch 1976; Davis 1992)</span>. To see this, we can select the cases where the element is an astragalus. The function <a href="../help/InCategory">InCategory</a> allows us to select them with the help of the thesaurus without requiring to know the terms actually used:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">AScases</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/InCategory.html">InCategory</a></span><span class="op">(</span><span class="va">dataWithLog</span><span class="op">$</span><span class="va">Os</span>, <span class="st">"astragalus"</span>, <span class="va">zoologThesaurus</span><span class="op">$</span><span class="va">element</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dataWithLog</span><span class="op">[</span><span class="va">AScases</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">6</span><span class="op">:</span><span class="fl">20</span>,<span class="fl">32</span><span class="op">:</span><span class="fl">64</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="5%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="2%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">Site</th>
<th align="right">N.inv</th>
<th align="right">UE</th>
<th align="left">Especie</th>
<th align="left">Os</th>
<th align="right">GL</th>
<th align="right">Bp</th>
<th align="right">Dp</th>
<th align="right">SD</th>
<th align="right">DD</th>
<th align="right">Bd</th>
<th align="right">Dd</th>
<th align="right">BT</th>
<th align="right">GLc</th>
<th align="left">BFd</th>
<th align="right">Dl</th>
<th align="right">logGL</th>
<th align="right">logBp</th>
<th align="right">logDp</th>
<th align="right">logSD</th>
<th align="right">logBd</th>
<th align="right">logDd</th>
<th align="right">logBT</th>
<th align="right">logGLc</th>
<th align="right">logBFd</th>
<th align="right">logDl</th>
<th align="right">logGB</th>
<th align="right">logSLC</th>
<th align="right">logGLP</th>
<th align="right">logBG</th>
<th align="right">logLG</th>
<th align="right">logDPA</th>
<th align="right">logBPC</th>
<th align="right">logLA</th>
<th align="right">logLAR</th>
<th align="right">logSH</th>
<th align="right">logL</th>
<th align="right">logH</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">7503</td>
<td align="left">ALP</td>
<td align="right">4410</td>
<td align="right">8001</td>
<td align="left">bota</td>
<td align="left">talus</td>
<td align="right">58.4</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">31.5</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right">31.4</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0927541</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">7504</td>
<td align="left">ALP</td>
<td align="right">1181</td>
<td align="right">7011</td>
<td align="left">bota</td>
<td align="left">talus</td>
<td align="right">57.7</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">35.7</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right">32.8</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0383964</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">7505</td>
<td align="left">ALP</td>
<td align="right">1180</td>
<td align="right">7011</td>
<td align="left">bota</td>
<td align="left">talus</td>
<td align="right">58.8</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">7506</td>
<td align="left">ALP</td>
<td align="right">1136</td>
<td align="right">7039</td>
<td align="left">bota</td>
<td align="left">talus</td>
<td align="right">58.9</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">39.3</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right">34.4</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">0.0033279</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">7507</td>
<td align="left">ALP</td>
<td align="right">1678</td>
<td align="right">7092</td>
<td align="left">bota</td>
<td align="left">talus</td>
<td align="right">59.4</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">39.8</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right">34.9</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">0.0088185</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">7508</td>
<td align="left">TFC</td>
<td align="right">617</td>
<td align="right">1061</td>
<td align="left">bota</td>
<td align="left">talus</td>
<td align="right">56.6</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">34.0</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right">32.3</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0595857</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
</tbody>
</table>
<p>According to the mesure definitions, astragali should have no <em>GL</em> measurement, but <em>GLl</em>. However, in the example dataset the <em>GLl</em> measurements have been recorded merged in the <em>GL</em> column. This is a data-entry simplification that is used by some researchers. It is possible because <em>GLl</em> is only relevant for the astragalus, while <em>GL</em> is not applicable to it. Thus, there cannot be any ambiguity between both measures since they can be identified by the bone element. However, since the zoolog reference uses the proper measure name for each bone element (<em>GLl</em> for the astragalus), the reference measure has not been correctly identified. Consequently, the log ratio <em>logGL</em> has <code>NA</code> values and the column <em>logGLl</em> does not exists.</p>
<p>The optional parameter mergedMeasures facilitates the processing of this type of simplified datasets. For the example data, we can use</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">GLandGLl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"GL"</span>, <span class="st">"GLl"</span><span class="op">)</span><span class="op">)</span>
<span class="va">dataWithLog</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/LogRatios.html">LogRatios</a></span><span class="op">(</span><span class="va">data</span>, mergedMeasures <span class="op">=</span> <span class="va">GLandGLl</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dataWithLog</span><span class="op">[</span><span class="va">AScases</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">6</span><span class="op">:</span><span class="fl">20</span>,<span class="fl">32</span><span class="op">:</span><span class="fl">64</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="4%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="4%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="2%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">Site</th>
<th align="right">N.inv</th>
<th align="right">UE</th>
<th align="left">Especie</th>
<th align="left">Os</th>
<th align="right">GL</th>
<th align="right">Bp</th>
<th align="right">Dp</th>
<th align="right">SD</th>
<th align="right">DD</th>
<th align="right">Bd</th>
<th align="right">Dd</th>
<th align="right">BT</th>
<th align="right">GLc</th>
<th align="left">BFd</th>
<th align="right">Dl</th>
<th align="right">logGL</th>
<th align="right">logBp</th>
<th align="right">logDp</th>
<th align="right">logSD</th>
<th align="right">logBd</th>
<th align="right">logDd</th>
<th align="right">logBT</th>
<th align="right">logGLc</th>
<th align="right">logBFd</th>
<th align="right">logDl</th>
<th align="right">logGB</th>
<th align="right">logSLC</th>
<th align="right">logGLP</th>
<th align="right">logBG</th>
<th align="right">logLG</th>
<th align="right">logDPA</th>
<th align="right">logBPC</th>
<th align="right">logLA</th>
<th align="right">logLAR</th>
<th align="right">logSH</th>
<th align="right">logL</th>
<th align="right">logH</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">7503</td>
<td align="left">ALP</td>
<td align="right">4410</td>
<td align="right">8001</td>
<td align="left">bota</td>
<td align="left">talus</td>
<td align="right">58.4</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">31.5</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right">31.4</td>
<td align="right">-0.0259788</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0927541</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">7504</td>
<td align="left">ALP</td>
<td align="right">1181</td>
<td align="right">7011</td>
<td align="left">bota</td>
<td align="left">talus</td>
<td align="right">57.7</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">35.7</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right">32.8</td>
<td align="right">-0.0312159</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0383964</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">7505</td>
<td align="left">ALP</td>
<td align="right">1180</td>
<td align="right">7011</td>
<td align="left">bota</td>
<td align="left">talus</td>
<td align="right">58.8</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.0230144</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">7506</td>
<td align="left">ALP</td>
<td align="right">1136</td>
<td align="right">7039</td>
<td align="left">bota</td>
<td align="left">talus</td>
<td align="right">58.9</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">39.3</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right">34.4</td>
<td align="right">-0.0222764</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">0.0033279</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">7507</td>
<td align="left">ALP</td>
<td align="right">1678</td>
<td align="right">7092</td>
<td align="left">bota</td>
<td align="left">talus</td>
<td align="right">59.4</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">39.8</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right">34.9</td>
<td align="right">-0.0186052</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">0.0088185</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">7508</td>
<td align="left">TFC</td>
<td align="right">617</td>
<td align="right">1061</td>
<td align="left">bota</td>
<td align="left">talus</td>
<td align="right">56.6</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">34.0</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right">32.3</td>
<td align="right">-0.0395753</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0595857</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
</tbody>
</table>
<p>This option allows us to automatically select, for each bone element, the corresponding measure present in the reference. Observe that now the log ratios have been computed and assigned to the column <em>logGL</em>.</p>
</div>
<div id="using-the-same-ovis-reference-for-all-caprines" class="section level2">
<h2 class="hasAnchor">
<a href="#using-the-same-ovis-reference-for-all-caprines" class="anchor"></a>Using the same ovis reference for all caprines</h2>
<p>We could be interested in obtaining the log ratios of all caprines, including <em>Ovis aries</em>, <em>Capra hircus</em>, and undetermined <em>Ovis/Capra</em>, with respect to the reference for <em>Ovis aries</em>. This can be set using the argument <code>joinCategories</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">caprineCategory</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>ovar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"sheep"</span>, <span class="st">"capra"</span>, <span class="st">"oc"</span><span class="op">)</span><span class="op">)</span>
<span class="va">dataWithLog</span><span class="op">=</span><span class="fu"><a href="../reference/LogRatios.html">LogRatios</a></span><span class="op">(</span><span class="va">data</span>, joinCategories <span class="op">=</span> <span class="va">caprineCategory</span>, mergedMeasures <span class="op">=</span> <span class="va">GLandGLl</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dataWithLog</span><span class="op">)</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">6</span><span class="op">:</span><span class="fl">20</span>,<span class="fl">32</span><span class="op">:</span><span class="fl">64</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="1%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="3%">
<col width="4%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="1%">
</colgroup>
<thead><tr class="header">
<th align="left">Site</th>
<th align="right">N.inv</th>
<th align="right">UE</th>
<th align="left">Especie</th>
<th align="left">Os</th>
<th align="right">GL</th>
<th align="right">Bp</th>
<th align="right">Dp</th>
<th align="right">SD</th>
<th align="right">DD</th>
<th align="right">Bd</th>
<th align="right">Dd</th>
<th align="right">BT</th>
<th align="right">GLc</th>
<th align="left">BFd</th>
<th align="right">Dl</th>
<th align="right">logGL</th>
<th align="right">logBp</th>
<th align="right">logDp</th>
<th align="right">logSD</th>
<th align="right">logBd</th>
<th align="right">logDd</th>
<th align="right">logBT</th>
<th align="right">logGLc</th>
<th align="right">logBFd</th>
<th align="right">logDl</th>
<th align="right">logGB</th>
<th align="right">logSLC</th>
<th align="right">logGLP</th>
<th align="right">logBG</th>
<th align="right">logLG</th>
<th align="right">logDPA</th>
<th align="right">logBPC</th>
<th align="right">logLA</th>
<th align="right">logLAR</th>
<th align="right">logSH</th>
<th align="right">logL</th>
<th align="right">logH</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">4918</td>
<td align="right">10364</td>
<td align="left">bota</td>
<td align="left">1 fal</td>
<td align="right">54.0</td>
<td align="right">31.3</td>
<td align="right">30.6</td>
<td align="right">28.1</td>
<td align="right">26.3</td>
<td align="right">27.5</td>
<td align="right">20.0</td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">ALP</td>
<td align="right">4919</td>
<td align="right">10364</td>
<td align="left">bota</td>
<td align="left">1 fal</td>
<td align="right">54.5</td>
<td align="right">27.9</td>
<td align="right">31.8</td>
<td align="right">26.0</td>
<td align="right">22.8</td>
<td align="right">25.3</td>
<td align="right">19.5</td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">3453</td>
<td align="right">10410</td>
<td align="left">ovar</td>
<td align="left">1fal ant</td>
<td align="right">27.1</td>
<td align="right">9.9</td>
<td align="right">12.3</td>
<td align="right">17.9</td>
<td align="right">9.0</td>
<td align="right">9.0</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.1078605</td>
<td align="right">-0.0799118</td>
<td align="right">-0.0726593</td>
<td align="right">0.2629585</td>
<td align="right">-0.0891198</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">ALP</td>
<td align="right">3455</td>
<td align="right">10410</td>
<td align="left">ovar</td>
<td align="left">1fal ant</td>
<td align="right">27.6</td>
<td align="right">9.6</td>
<td align="right">12.2</td>
<td align="right">7.6</td>
<td align="right">8.9</td>
<td align="right">8.3</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.0999207</td>
<td align="right">-0.0932757</td>
<td align="right">-0.0762046</td>
<td align="right">-0.1090810</td>
<td align="right">-0.1242842</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">4245</td>
<td align="right">7036</td>
<td align="left">cahi</td>
<td align="left">hum</td>
<td align="right"></td>
<td align="right">128.3</td>
<td align="right"></td>
<td align="right">12.9</td>
<td align="right"></td>
<td align="right">27.4</td>
<td align="right">26.6</td>
<td align="right">23.6</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">0.5316550</td>
<td align="right"></td>
<td align="right">-0.0299183</td>
<td align="right">-0.0189191</td>
<td align="right">0.0490352</td>
<td align="right">-0.0627731</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">ALP</td>
<td align="right">4674</td>
<td align="right">10227</td>
<td align="left">cahi</td>
<td align="left">hum</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">26.0</td>
<td align="right">25.7</td>
<td align="right">22.3</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0416963</td>
<td align="right">0.0340867</td>
<td align="right">-0.0873803</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
</tbody>
</table>
<p>Note that this option does not remove the distinction in the data between the different species, it just indicates that for these taxa the log ratios must be computed from the same reference (<code>ovar</code>).</p>
</div>
<div id="pruning-the-data-from-cases-with-no-available-measure" class="section level2">
<h2 class="hasAnchor">
<a href="#pruning-the-data-from-cases-with-no-available-measure" class="anchor"></a>Pruning the data from cases with no available measure</h2>
<p>The cases without log-ratios can be removed to facilitate subsequent analyses:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dataWithLogPruned</span><span class="op">=</span><span class="fu"><a href="../reference/RemoveNACases.html">RemoveNACases</a></span><span class="op">(</span><span class="va">dataWithLog</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dataWithLogPruned</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">6</span><span class="op">:</span><span class="fl">20</span>,<span class="fl">32</span><span class="op">:</span><span class="fl">64</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="1%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="3%">
<col width="4%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="1%">
</colgroup>
<thead><tr class="header">
<th align="left">Site</th>
<th align="right">N.inv</th>
<th align="right">UE</th>
<th align="left">Especie</th>
<th align="left">Os</th>
<th align="right">GL</th>
<th align="right">Bp</th>
<th align="right">Dp</th>
<th align="right">SD</th>
<th align="right">DD</th>
<th align="right">Bd</th>
<th align="right">Dd</th>
<th align="right">BT</th>
<th align="right">GLc</th>
<th align="left">BFd</th>
<th align="right">Dl</th>
<th align="right">logGL</th>
<th align="right">logBp</th>
<th align="right">logDp</th>
<th align="right">logSD</th>
<th align="right">logBd</th>
<th align="right">logDd</th>
<th align="right">logBT</th>
<th align="right">logGLc</th>
<th align="left">logBFd</th>
<th align="right">logDl</th>
<th align="right">logGB</th>
<th align="right">logSLC</th>
<th align="right">logGLP</th>
<th align="right">logBG</th>
<th align="right">logLG</th>
<th align="right">logDPA</th>
<th align="right">logBPC</th>
<th align="right">logLA</th>
<th align="left">logLAR</th>
<th align="left">logSH</th>
<th align="left">logL</th>
<th align="left">logH</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">3453</td>
<td align="right">10410</td>
<td align="left">ovar</td>
<td align="left">1fal ant</td>
<td align="right">27.1</td>
<td align="right">9.9</td>
<td align="right">12.3</td>
<td align="right">17.9</td>
<td align="right">9.0</td>
<td align="right">9.0</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.1078605</td>
<td align="right">-0.0799118</td>
<td align="right">-0.0726593</td>
<td align="right">0.2629585</td>
<td align="right">-0.0891198</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">ALP</td>
<td align="right">3455</td>
<td align="right">10410</td>
<td align="left">ovar</td>
<td align="left">1fal ant</td>
<td align="right">27.6</td>
<td align="right">9.6</td>
<td align="right">12.2</td>
<td align="right">7.6</td>
<td align="right">8.9</td>
<td align="right">8.3</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.0999207</td>
<td align="right">-0.0932757</td>
<td align="right">-0.0762046</td>
<td align="right">-0.1090810</td>
<td align="right">-0.1242842</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">4245</td>
<td align="right">7036</td>
<td align="left">cahi</td>
<td align="left">hum</td>
<td align="right"></td>
<td align="right">128.3</td>
<td align="right"></td>
<td align="right">12.9</td>
<td align="right"></td>
<td align="right">27.4</td>
<td align="right">26.6</td>
<td align="right">23.6</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">0.5316550</td>
<td align="right"></td>
<td align="right">-0.0299183</td>
<td align="right">-0.0189191</td>
<td align="right">0.0490352</td>
<td align="right">-0.0627731</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">ALP</td>
<td align="right">4674</td>
<td align="right">10227</td>
<td align="left">cahi</td>
<td align="left">hum</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">26.0</td>
<td align="right">25.7</td>
<td align="right">22.3</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0416963</td>
<td align="right">0.0340867</td>
<td align="right">-0.0873803</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">4085</td>
<td align="right">10253</td>
<td align="left">cahi</td>
<td align="left">hum</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">27.9</td>
<td align="right">27.3</td>
<td align="right">23.2</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0110654</td>
<td align="right">0.0603162</td>
<td align="right">-0.0701972</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">TFC</td>
<td align="right">24</td>
<td align="right">407</td>
<td align="left">ceel</td>
<td align="left">mc</td>
<td align="right">262.7</td>
<td align="right">41.3</td>
<td align="right">30.8</td>
<td align="right">25.0</td>
<td align="right">21.2</td>
<td align="right">41.1</td>
<td align="right">27.1</td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0335411</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>You may want to write the resulting file in the working directory (you need to set it first):</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv2</a></span><span class="op">(</span><span class="va">dataWithLogPruned</span>, <span class="st">"myDataWithLogValues.csv"</span>, 
           quote<span class="op">=</span><span class="cn">FALSE</span>, row.names<span class="op">=</span><span class="cn">FALSE</span>, na<span class="op">=</span><span class="st">""</span>, 
           fileEncoding<span class="op">=</span><span class="st">"UTF-8"</span><span class="op">)</span></code></pre></div>
</div>
<div id="condensing-log-values" class="section level2">
<h2 class="hasAnchor">
<a href="#condensing-log-values" class="anchor"></a>Condensing log values</h2>
<p>After calculating log ratios using the <code>LogRatios</code> function, many rows in the resultant dataframe (dataWithLog in the example above) may contain multiple log values, i.e. you will have several log values associated with a particular archaeological specimen. When analysing log ratios, it is preferential to avoid overrepresentation of bones with a greater number of measurements and account for each specimen only once. The <code>CondenseLogs</code> function extracts one length and one width value from each row and places these in new Length and Width columns.The ‘priority’ method described in <span class="citation">(Trentacoste, Nieto-Espinet, and Valenzuela-Lamas 2018)</span> has been set as default. Nevertheless, other options (e.g. average of all width log values for a given specimen) can be chosen if preferred. In this case, the default option has been used:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dataWithSummary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CondenseLogs.html">CondenseLogs</a></span><span class="op">(</span><span class="va">dataWithLogPruned</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dataWithSummary</span><span class="op">)</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">6</span><span class="op">:</span><span class="fl">20</span>,<span class="fl">32</span><span class="op">:</span><span class="fl">64</span>,<span class="fl">72</span><span class="op">:</span><span class="fl">86</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="2%">
<col width="3%">
<col width="3%">
<col width="4%">
<col width="4%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="5%">
<col width="5%">
<col width="5%">
<col width="5%">
<col width="5%">
<col width="5%">
<col width="5%">
<col width="5%">
<col width="5%">
</colgroup>
<thead><tr class="header">
<th align="left">Site</th>
<th align="right">N.inv</th>
<th align="right">UE</th>
<th align="left">Especie</th>
<th align="left">Os</th>
<th align="right">GL</th>
<th align="right">Bp</th>
<th align="right">Dp</th>
<th align="right">SD</th>
<th align="right">DD</th>
<th align="right">Bd</th>
<th align="right">Dd</th>
<th align="right">BT</th>
<th align="right">GLc</th>
<th align="left">BFd</th>
<th align="right">Dl</th>
<th align="right">logGL</th>
<th align="right">logBp</th>
<th align="right">logDp</th>
<th align="right">logSD</th>
<th align="right">logBd</th>
<th align="right">logDd</th>
<th align="right">logBT</th>
<th align="right">Length</th>
<th align="right">Width</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">3453</td>
<td align="right">10410</td>
<td align="left">ovar</td>
<td align="left">1fal ant</td>
<td align="right">27.1</td>
<td align="right">9.9</td>
<td align="right">12.3</td>
<td align="right">17.9</td>
<td align="right">9.0</td>
<td align="right">9.0</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.1078605</td>
<td align="right">-0.0799118</td>
<td align="right">-0.0726593</td>
<td align="right">0.2629585</td>
<td align="right">-0.0891198</td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.1078605</td>
<td align="right">-0.0891198</td>
</tr>
<tr class="even">
<td align="left">ALP</td>
<td align="right">3455</td>
<td align="right">10410</td>
<td align="left">ovar</td>
<td align="left">1fal ant</td>
<td align="right">27.6</td>
<td align="right">9.6</td>
<td align="right">12.2</td>
<td align="right">7.6</td>
<td align="right">8.9</td>
<td align="right">8.3</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.0999207</td>
<td align="right">-0.0932757</td>
<td align="right">-0.0762046</td>
<td align="right">-0.1090810</td>
<td align="right">-0.1242842</td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0999207</td>
<td align="right">-0.1242842</td>
</tr>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">4245</td>
<td align="right">7036</td>
<td align="left">cahi</td>
<td align="left">hum</td>
<td align="right"></td>
<td align="right">128.3</td>
<td align="right"></td>
<td align="right">12.9</td>
<td align="right"></td>
<td align="right">27.4</td>
<td align="right">26.6</td>
<td align="right">23.6</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">0.5316550</td>
<td align="right"></td>
<td align="right">-0.0299183</td>
<td align="right">-0.0189191</td>
<td align="right">0.0490352</td>
<td align="right">-0.0627731</td>
<td align="right"></td>
<td align="right">-0.0189191</td>
</tr>
<tr class="even">
<td align="left">ALP</td>
<td align="right">4674</td>
<td align="right">10227</td>
<td align="left">cahi</td>
<td align="left">hum</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">26.0</td>
<td align="right">25.7</td>
<td align="right">22.3</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0416963</td>
<td align="right">0.0340867</td>
<td align="right">-0.0873803</td>
<td align="right"></td>
<td align="right">-0.0416963</td>
</tr>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">4085</td>
<td align="right">10253</td>
<td align="left">cahi</td>
<td align="left">hum</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">27.9</td>
<td align="right">27.3</td>
<td align="right">23.2</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0110654</td>
<td align="right">0.0603162</td>
<td align="right">-0.0701972</td>
<td align="right"></td>
<td align="right">-0.0110654</td>
</tr>
<tr class="even">
<td align="left">TFC</td>
<td align="right">24</td>
<td align="right">407</td>
<td align="left">ceel</td>
<td align="left">mc</td>
<td align="right">262.7</td>
<td align="right">41.3</td>
<td align="right">30.8</td>
<td align="right">25.0</td>
<td align="right">21.2</td>
<td align="right">41.1</td>
<td align="right">27.1</td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0335411</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0335411</td>
</tr>
</tbody>
</table>
</div>
<div id="standardizing-the-dataset-nomenclature" class="section level2">
<h2 class="hasAnchor">
<a href="#standardizing-the-dataset-nomenclature" class="anchor"></a>Standardizing the dataset nomenclature</h2>
<p>The integration of the thesaurus functionality facilitates the use of datasets with heterogenous nomenclatures, without further preprocessing. An extensive catalogue of names for equivalent categories has been integrated in the provided thesaurus set <code>zoologThesaurus</code>. These equivalences are internally and silently managed without requiring any action from the user. However, it can be also interesting to explicitly standardize the data to make figures legible to a wider audience. This is especially useful when different nomenclature for the same concept is found in the same dataset, for instance “sheep” and “ovis” for the same taxon or “hum” and “HU” for the bone element.</p>
<p>If we standardize the studied data, we can see that <code>zoologThesaurus</code> will change “ovar” to “Ovis aries”, “hum” to “humerus”, and “Especie” to “Taxon”, for instance.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dataStandardized</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/StandardizeNomenclature.html">StandardizeDataSet</a></span><span class="op">(</span><span class="va">dataWithSummary</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dataStandardized</span><span class="op">)</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">6</span><span class="op">:</span><span class="fl">20</span>,<span class="fl">32</span><span class="op">:</span><span class="fl">64</span>,<span class="fl">72</span><span class="op">:</span><span class="fl">86</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="2%">
<col width="2%">
<col width="2%">
<col width="7%">
<col width="11%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="5%">
<col width="5%">
<col width="5%">
<col width="5%">
<col width="5%">
<col width="4%">
<col width="5%">
<col width="5%">
<col width="5%">
</colgroup>
<thead><tr class="header">
<th align="left">Site</th>
<th align="right">N.inv</th>
<th align="right">UE</th>
<th align="left">Taxon</th>
<th align="left">Element</th>
<th align="right">GL</th>
<th align="right">Bp</th>
<th align="right">Dp</th>
<th align="right">SD</th>
<th align="right">DD</th>
<th align="right">Bd</th>
<th align="right">Dd</th>
<th align="right">BT</th>
<th align="right">GLc</th>
<th align="left">BFd</th>
<th align="right">Dl</th>
<th align="right">logGL</th>
<th align="right">logBp</th>
<th align="right">logDp</th>
<th align="right">logSD</th>
<th align="right">logBd</th>
<th align="right">logDd</th>
<th align="right">logBT</th>
<th align="right">Length</th>
<th align="right">Width</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">3453</td>
<td align="right">10410</td>
<td align="left">Ovis aries</td>
<td align="left">anterior first phalanx</td>
<td align="right">27.1</td>
<td align="right">9.9</td>
<td align="right">12.3</td>
<td align="right">17.9</td>
<td align="right">9.0</td>
<td align="right">9.0</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.1078605</td>
<td align="right">-0.0799118</td>
<td align="right">-0.0726593</td>
<td align="right">0.2629585</td>
<td align="right">-0.0891198</td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.1078605</td>
<td align="right">-0.0891198</td>
</tr>
<tr class="even">
<td align="left">ALP</td>
<td align="right">3455</td>
<td align="right">10410</td>
<td align="left">Ovis aries</td>
<td align="left">anterior first phalanx</td>
<td align="right">27.6</td>
<td align="right">9.6</td>
<td align="right">12.2</td>
<td align="right">7.6</td>
<td align="right">8.9</td>
<td align="right">8.3</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.0999207</td>
<td align="right">-0.0932757</td>
<td align="right">-0.0762046</td>
<td align="right">-0.1090810</td>
<td align="right">-0.1242842</td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0999207</td>
<td align="right">-0.1242842</td>
</tr>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">4245</td>
<td align="right">7036</td>
<td align="left">Capra hircus</td>
<td align="left">humerus</td>
<td align="right"></td>
<td align="right">128.3</td>
<td align="right"></td>
<td align="right">12.9</td>
<td align="right"></td>
<td align="right">27.4</td>
<td align="right">26.6</td>
<td align="right">23.6</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">0.5316550</td>
<td align="right"></td>
<td align="right">-0.0299183</td>
<td align="right">-0.0189191</td>
<td align="right">0.0490352</td>
<td align="right">-0.0627731</td>
<td align="right"></td>
<td align="right">-0.0189191</td>
</tr>
<tr class="even">
<td align="left">ALP</td>
<td align="right">4674</td>
<td align="right">10227</td>
<td align="left">Capra hircus</td>
<td align="left">humerus</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">26.0</td>
<td align="right">25.7</td>
<td align="right">22.3</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0416963</td>
<td align="right">0.0340867</td>
<td align="right">-0.0873803</td>
<td align="right"></td>
<td align="right">-0.0416963</td>
</tr>
<tr class="odd">
<td align="left">ALP</td>
<td align="right">4085</td>
<td align="right">10253</td>
<td align="left">Capra hircus</td>
<td align="left">humerus</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">27.9</td>
<td align="right">27.3</td>
<td align="right">23.2</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0110654</td>
<td align="right">0.0603162</td>
<td align="right">-0.0701972</td>
<td align="right"></td>
<td align="right">-0.0110654</td>
</tr>
<tr class="even">
<td align="left">TFC</td>
<td align="right">24</td>
<td align="right">407</td>
<td align="left">Cervus elaphus</td>
<td align="left">metacarpus</td>
<td align="right">262.7</td>
<td align="right">41.3</td>
<td align="right">30.8</td>
<td align="right">25.0</td>
<td align="right">21.2</td>
<td align="right">41.1</td>
<td align="right">27.1</td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0335411</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0335411</td>
</tr>
</tbody>
</table>
</div>
<div id="selecting-only-caprines" class="section level2">
<h2 class="hasAnchor">
<a href="#selecting-only-caprines" class="anchor"></a>Selecting only caprines</h2>
<p>We may be interested in selecting all caprine elements. This can be done even without standardizing the data using the function <code>InCategory</code>:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dataOC</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">dataWithSummary</span>, <span class="fu"><a href="../reference/InCategory.html">InCategory</a></span><span class="op">(</span><span class="va">Especie</span>, 
                                             <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"sheep"</span>, <span class="st">"capra"</span>, <span class="st">"oc"</span><span class="op">)</span>,
                                             <span class="va">zoologThesaurus</span><span class="op">$</span><span class="va">taxon</span><span class="op">)</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dataOC</span><span class="op">)</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">6</span><span class="op">:</span><span class="fl">20</span>,<span class="fl">32</span><span class="op">:</span><span class="fl">64</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="1%">
<col width="1%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="3%">
<col width="3%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">Site</th>
<th align="right">N.inv</th>
<th align="right">UE</th>
<th align="left">Especie</th>
<th align="left">Os</th>
<th align="right">GL</th>
<th align="right">Bp</th>
<th align="right">Dp</th>
<th align="right">SD</th>
<th align="right">DD</th>
<th align="right">Bd</th>
<th align="right">Dd</th>
<th align="right">BT</th>
<th align="right">GLc</th>
<th align="left">BFd</th>
<th align="right">Dl</th>
<th align="right">logGL</th>
<th align="right">logBp</th>
<th align="right">logDp</th>
<th align="right">logSD</th>
<th align="right">logBd</th>
<th align="right">logDd</th>
<th align="right">logBT</th>
<th align="right">logGLc</th>
<th align="left">logBFd</th>
<th align="right">logDl</th>
<th align="right">logGB</th>
<th align="right">logSLC</th>
<th align="right">logGLP</th>
<th align="right">logBG</th>
<th align="right">logLG</th>
<th align="right">logDPA</th>
<th align="right">logBPC</th>
<th align="right">logLA</th>
<th align="left">logLAR</th>
<th align="left">logSH</th>
<th align="left">logL</th>
<th align="left">logH</th>
<th align="right">Length</th>
<th align="right">Width</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">ALP</td>
<td align="right">3453</td>
<td align="right">10410</td>
<td align="left">ovar</td>
<td align="left">1fal ant</td>
<td align="right">27.1</td>
<td align="right">9.9</td>
<td align="right">12.3</td>
<td align="right">17.9</td>
<td align="right">9.0</td>
<td align="right">9.0</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.1078605</td>
<td align="right">-0.0799118</td>
<td align="right">-0.0726593</td>
<td align="right">0.2629585</td>
<td align="right">-0.0891198</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right">-0.1078605</td>
<td align="right">-0.0891198</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">ALP</td>
<td align="right">3455</td>
<td align="right">10410</td>
<td align="left">ovar</td>
<td align="left">1fal ant</td>
<td align="right">27.6</td>
<td align="right">9.6</td>
<td align="right">12.2</td>
<td align="right">7.6</td>
<td align="right">8.9</td>
<td align="right">8.3</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.0999207</td>
<td align="right">-0.0932757</td>
<td align="right">-0.0762046</td>
<td align="right">-0.1090810</td>
<td align="right">-0.1242842</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right">-0.0999207</td>
<td align="right">-0.1242842</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">ALP</td>
<td align="right">4245</td>
<td align="right">7036</td>
<td align="left">cahi</td>
<td align="left">hum</td>
<td align="right"></td>
<td align="right">128.3</td>
<td align="right"></td>
<td align="right">12.9</td>
<td align="right"></td>
<td align="right">27.4</td>
<td align="right">26.6</td>
<td align="right">23.6</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">0.5316550</td>
<td align="right"></td>
<td align="right">-0.0299183</td>
<td align="right">-0.0189191</td>
<td align="right">0.0490352</td>
<td align="right">-0.0627731</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.0189191</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="left">ALP</td>
<td align="right">4674</td>
<td align="right">10227</td>
<td align="left">cahi</td>
<td align="left">hum</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">26.0</td>
<td align="right">25.7</td>
<td align="right">22.3</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0416963</td>
<td align="right">0.0340867</td>
<td align="right">-0.0873803</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.0416963</td>
</tr>
<tr class="odd">
<td align="left">5</td>
<td align="left">ALP</td>
<td align="right">4085</td>
<td align="right">10253</td>
<td align="left">cahi</td>
<td align="left">hum</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">27.9</td>
<td align="right">27.3</td>
<td align="right">23.2</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0110654</td>
<td align="right">0.0603162</td>
<td align="right">-0.0701972</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.0110654</td>
</tr>
<tr class="even">
<td align="left">7</td>
<td align="left">ALP</td>
<td align="right">3524</td>
<td align="right">10122</td>
<td align="left">ovar</td>
<td align="left">1fal ant</td>
<td align="right">27.7</td>
<td align="right">9.2</td>
<td align="right">11.5</td>
<td align="right">7.5</td>
<td align="right">9.4</td>
<td align="right">8.1</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.0983500</td>
<td align="right">-0.1117591</td>
<td align="right">-0.1018666</td>
<td align="right">-0.1148333</td>
<td align="right">-0.1348773</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right">-0.0983500</td>
<td align="right">-0.1348773</td>
</tr>
</tbody>
</table>
<p>Observe that no standardization is performed in the output subset. To standardize the subset data, <code>StandardizeDataSet</code> can be applied either before or after the subsetting.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dataOCStandardized</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/StandardizeNomenclature.html">StandardizeDataSet</a></span><span class="op">(</span><span class="va">dataOC</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dataOCStandardized</span><span class="op">)</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">6</span><span class="op">:</span><span class="fl">20</span>,<span class="fl">32</span><span class="op">:</span><span class="fl">64</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="1%">
<col width="1%">
<col width="2%">
<col width="2%">
<col width="4%">
<col width="7%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="3%">
<col width="3%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">Site</th>
<th align="right">N.inv</th>
<th align="right">UE</th>
<th align="left">Taxon</th>
<th align="left">Element</th>
<th align="right">GL</th>
<th align="right">Bp</th>
<th align="right">Dp</th>
<th align="right">SD</th>
<th align="right">DD</th>
<th align="right">Bd</th>
<th align="right">Dd</th>
<th align="right">BT</th>
<th align="right">GLc</th>
<th align="left">BFd</th>
<th align="right">Dl</th>
<th align="right">logGL</th>
<th align="right">logBp</th>
<th align="right">logDp</th>
<th align="right">logSD</th>
<th align="right">logBd</th>
<th align="right">logDd</th>
<th align="right">logBT</th>
<th align="right">logGLc</th>
<th align="left">logBFd</th>
<th align="right">logDl</th>
<th align="right">logGB</th>
<th align="right">logSLC</th>
<th align="right">logGLP</th>
<th align="right">logBG</th>
<th align="right">logLG</th>
<th align="right">logDPA</th>
<th align="right">logBPC</th>
<th align="right">logLA</th>
<th align="left">logLAR</th>
<th align="left">logSH</th>
<th align="left">logL</th>
<th align="left">logH</th>
<th align="right">Length</th>
<th align="right">Width</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">ALP</td>
<td align="right">3453</td>
<td align="right">10410</td>
<td align="left">Ovis aries</td>
<td align="left">anterior first phalanx</td>
<td align="right">27.1</td>
<td align="right">9.9</td>
<td align="right">12.3</td>
<td align="right">17.9</td>
<td align="right">9.0</td>
<td align="right">9.0</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.1078605</td>
<td align="right">-0.0799118</td>
<td align="right">-0.0726593</td>
<td align="right">0.2629585</td>
<td align="right">-0.0891198</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right">-0.1078605</td>
<td align="right">-0.0891198</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">ALP</td>
<td align="right">3455</td>
<td align="right">10410</td>
<td align="left">Ovis aries</td>
<td align="left">anterior first phalanx</td>
<td align="right">27.6</td>
<td align="right">9.6</td>
<td align="right">12.2</td>
<td align="right">7.6</td>
<td align="right">8.9</td>
<td align="right">8.3</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.0999207</td>
<td align="right">-0.0932757</td>
<td align="right">-0.0762046</td>
<td align="right">-0.1090810</td>
<td align="right">-0.1242842</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right">-0.0999207</td>
<td align="right">-0.1242842</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">ALP</td>
<td align="right">4245</td>
<td align="right">7036</td>
<td align="left">Capra hircus</td>
<td align="left">humerus</td>
<td align="right"></td>
<td align="right">128.3</td>
<td align="right"></td>
<td align="right">12.9</td>
<td align="right"></td>
<td align="right">27.4</td>
<td align="right">26.6</td>
<td align="right">23.6</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">0.5316550</td>
<td align="right"></td>
<td align="right">-0.0299183</td>
<td align="right">-0.0189191</td>
<td align="right">0.0490352</td>
<td align="right">-0.0627731</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.0189191</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="left">ALP</td>
<td align="right">4674</td>
<td align="right">10227</td>
<td align="left">Capra hircus</td>
<td align="left">humerus</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">26.0</td>
<td align="right">25.7</td>
<td align="right">22.3</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0416963</td>
<td align="right">0.0340867</td>
<td align="right">-0.0873803</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.0416963</td>
</tr>
<tr class="odd">
<td align="left">5</td>
<td align="left">ALP</td>
<td align="right">4085</td>
<td align="right">10253</td>
<td align="left">Capra hircus</td>
<td align="left">humerus</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">27.9</td>
<td align="right">27.3</td>
<td align="right">23.2</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right">-0.0110654</td>
<td align="right">0.0603162</td>
<td align="right">-0.0701972</td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.0110654</td>
</tr>
<tr class="even">
<td align="left">7</td>
<td align="left">ALP</td>
<td align="right">3524</td>
<td align="right">10122</td>
<td align="left">Ovis aries</td>
<td align="left">anterior first phalanx</td>
<td align="right">27.7</td>
<td align="right">9.2</td>
<td align="right">11.5</td>
<td align="right">7.5</td>
<td align="right">9.4</td>
<td align="right">8.1</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right">-0.0983500</td>
<td align="right">-0.1117591</td>
<td align="right">-0.1018666</td>
<td align="right">-0.1148333</td>
<td align="right">-0.1348773</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="right">-0.0983500</td>
<td align="right">-0.1348773</td>
</tr>
</tbody>
</table>
<p>Observe also that the distinction between <em>Ovis aries</em>, <em>Capra hircus</em>, and <em>Ovis/Capra</em> has not been removed from the data.</p>
<p>If we were interested only in one summary measure, <em>Width</em> or <em>Length</em>, we could retain the cases including this measure:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dataOCWithWidth</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RemoveNACases.html">RemoveNACases</a></span><span class="op">(</span><span class="va">dataOCStandardized</span>, measureNames <span class="op">=</span> <span class="st">"Width"</span><span class="op">)</span>
<span class="va">dataOCWithLength</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RemoveNACases.html">RemoveNACases</a></span><span class="op">(</span><span class="va">dataOCStandardized</span>, measureNames <span class="op">=</span> <span class="st">"Length"</span><span class="op">)</span></code></pre></div>
<p>which gives respectively 237 (<code>=nrow(dataOCWithWidth)</code>) and 149 (<code>=nrow(dataOCWithLength)</code>) cases.</p>
</div>
<div id="different-plots-for-data-visualisation" class="section level2">
<h2 class="hasAnchor">
<a href="#different-plots-for-data-visualisation" class="anchor"></a>Different plots for data visualisation</h2>
<p>Condensed log values can be visualised as histograms and box plots using ggplot <span class="citation">(Wickham 2011)</span>. Here we will look at some examples of plotting values from caprines.</p>
<div id="horizontal-boxplot-with-dots-grouped-by-site" class="section level3">
<h3 class="hasAnchor">
<a href="#horizontal-boxplot-with-dots-grouped-by-site" class="anchor"></a>Horizontal Boxplot with dots grouped by site</h3>
<p>For the example plots we will use the package <strong>ggplot2</strong>.</p>
<p>We can now create a boxplot for the widths:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">dataOCStandardized</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Site</span>, y <span class="op">=</span> <span class="va">Width</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_boxplot</span><span class="op">(</span>outlier.shape <span class="op">=</span> <span class="cn">NA</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_jitter</span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.2</span>, height <span class="op">=</span> <span class="fl">0</span>, alpha <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span>, color <span class="op">=</span> <span class="fl">4</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Caprine widths"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ylab</span><span class="op">(</span><span class="st">"Width log-ratio"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-17-1.png" width="576" style="display: block; margin: auto;"></p>
<p>And another boxplot for the lengths:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">dataOCStandardized</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Site</span>, y <span class="op">=</span> <span class="va">Length</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_boxplot</span><span class="op">(</span>outlier.shape <span class="op">=</span> <span class="cn">NA</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_jitter</span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.2</span>, height <span class="op">=</span> <span class="fl">0</span>, alpha <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span>, color <span class="op">=</span> <span class="fl">4</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Caprine lengths"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ylab</span><span class="op">(</span><span class="st">"Length log-ratio"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-18-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div id="histograms-grouped-by-site" class="section level3">
<h3 class="hasAnchor">
<a href="#histograms-grouped-by-site" class="anchor"></a>Histograms grouped by site</h3>
<p>We may choose to plot the width data as a histogram:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">dataOCStandardized</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">Width</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_histogram</span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">30</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Caprine widths"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">xlab</span><span class="op">(</span><span class="st">"Width log-ratio"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">facet_grid</span><span class="op">(</span><span class="va">Site</span> <span class="op">~</span><span class="va">.</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme</span><span class="op">(</span>panel.grid.major.y <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,
        panel.grid.minor.y <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme</span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span>, size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span>,
        axis.title.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,
        axis.title.y <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,
        axis.text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_y_continuous</span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-19-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div id="vertical-boxplot-with-dots-grouped-by-taxon-and-site" class="section level3">
<h3 class="hasAnchor">
<a href="#vertical-boxplot-with-dots-grouped-by-taxon-and-site" class="anchor"></a>Vertical boxplot with dots grouped by taxon and site</h3>
<p>Here we reorder the factor levels of <code>dataOCStandardized$Taxon</code> to make the order of the boxplots more intuitive.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">levels0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">dataOCStandardized</span><span class="op">$</span><span class="va">Taxon</span><span class="op">)</span>
<span class="va">levels0</span>
<span class="co">#&gt; [1] "Capra hircus" "Ovis aries"   "Ovis/Capra"</span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dataOCStandardized</span><span class="op">$</span><span class="va">Taxon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">dataOCStandardized</span><span class="op">$</span><span class="va">Taxon</span>, 
                                   levels <span class="op">=</span> <span class="va">levels0</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">1</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">dataOCStandardized</span><span class="op">$</span><span class="va">Taxon</span><span class="op">)</span>
<span class="co">#&gt; [1] "Ovis aries"   "Ovis/Capra"   "Capra hircus"</span></code></pre></div>
<p>and assign specific colours for each category:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Ocolour</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#A2A475"</span>, <span class="st">"#D8B70A"</span>, <span class="st">"#81A88D"</span><span class="op">)</span>
<span class="fu">ggplot</span><span class="op">(</span><span class="va">dataOCStandardized</span>, <span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">Site</span>, y<span class="op">=</span><span class="va">Width</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_boxplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>fill<span class="op">=</span><span class="va">Taxon</span><span class="op">)</span>, 
               notch <span class="op">=</span> <span class="cn">TRUE</span>, alpha <span class="op">=</span> <span class="fl">0</span>, lwd <span class="op">=</span> <span class="fl">0.377</span>, outlier.alpha <span class="op">=</span> <span class="fl">0</span>,
               width <span class="op">=</span> <span class="fl">0.5</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span>,
               position <span class="op">=</span> <span class="fu">position_dodge</span><span class="op">(</span><span class="fl">0.75</span><span class="op">)</span>,
               show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_point</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>colour <span class="op">=</span> <span class="va">Taxon</span>, shape <span class="op">=</span> <span class="va">Taxon</span><span class="op">)</span>, 
             alpha <span class="op">=</span> <span class="fl">0.7</span>, size <span class="op">=</span> <span class="fl">0.8</span>, 
             position <span class="op">=</span> <span class="fu">position_jitterdodge</span><span class="op">(</span>jitter.width <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span>,
             na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_colour_manual</span><span class="op">(</span>values<span class="op">=</span><span class="va">Ocolour</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_shape_manual</span><span class="op">(</span>values<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">18</span>, <span class="fl">16</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme_bw</span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">8</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ylab</span><span class="op">(</span><span class="st">"LSI value"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Sheep/goat LSI width values"</span><span class="op">)</span> </code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-22-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div id="histograms-grouped-by-taxon-and-site" class="section level3">
<h3 class="hasAnchor">
<a href="#histograms-grouped-by-taxon-and-site" class="anchor"></a>Histograms grouped by taxon and site</h3>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">TaxonSiteWidthHist</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">dataOCStandardized</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">Width</span>, fill <span class="op">=</span> <span class="va">Taxon</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_histogram</span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">30</span>, alpha <span class="op">=</span> <span class="fl">0.5</span>, position <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Sheep/goat Widths"</span><span class="op">)</span> <span class="op">+</span> <span class="fu">facet_grid</span><span class="op">(</span><span class="va">Site</span> <span class="op">~</span> <span class="va">Taxon</span><span class="op">)</span>
<span class="va">TaxonSiteWidthHist</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-23-1.png" width="576" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">TaxonSiteWidthHist</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">dataOCStandardized</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">Width</span>, fill <span class="op">=</span> <span class="va">Taxon</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_histogram</span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">30</span>, alpha <span class="op">=</span> <span class="fl">0.5</span>, position <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Sheep/goat Widths"</span><span class="op">)</span> <span class="op">+</span> <span class="fu">facet_grid</span><span class="op">(</span><span class="op">~</span><span class="va">Site</span><span class="op">)</span>
<span class="va">TaxonSiteWidthHist</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-24-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="statistical-test" class="section level2">
<h2 class="hasAnchor">
<a href="#statistical-test" class="anchor"></a>Statistical test</h2>
<p>We may run a statistical test (here a Student t-test) to check whether the differences in log ratio length values between the sites “OLD” and “ALP” are statistically significant:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">Length</span> <span class="op">~</span> <span class="va">Site</span>, <span class="va">dataOCStandardized</span>, 
       subset <span class="op">=</span> <span class="va">Site</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"OLD"</span>, <span class="st">"ALP"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Welch Two Sample t-test</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  Length by Site</span>
<span class="co">#&gt; t = -12.23, df = 4.2233, p-value = 0.0001865</span>
<span class="co">#&gt; alternative hypothesis: true difference in means is not equal to 0</span>
<span class="co">#&gt; 95 percent confidence interval:</span>
<span class="co">#&gt;  -0.11262797 -0.07165242</span>
<span class="co">#&gt; sample estimates:</span>
<span class="co">#&gt; mean in group ALP mean in group OLD </span>
<span class="co">#&gt;       -0.04589475        0.04624545</span></code></pre></div>
<p>Similarly, for the differences in log ratio width values:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">Width</span> <span class="op">~</span> <span class="va">Site</span>, <span class="va">dataOCStandardized</span>, 
       subset <span class="op">=</span> <span class="va">Site</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"OLD"</span>, <span class="st">"ALP"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Welch Two Sample t-test</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  Width by Site</span>
<span class="co">#&gt; t = -2.863, df = 8.7789, p-value = 0.01916</span>
<span class="co">#&gt; alternative hypothesis: true difference in means is not equal to 0</span>
<span class="co">#&gt; 95 percent confidence interval:</span>
<span class="co">#&gt;  -0.09379203 -0.01081753</span>
<span class="co">#&gt; sample estimates:</span>
<span class="co">#&gt; mean in group ALP mean in group OLD </span>
<span class="co">#&gt;       -0.03553854        0.01676624</span></code></pre></div>
<p>For testing all possible pairs of sites, the p-values must be adjusted for multiple comparisons:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">stats</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/pairwise.t.test.html">pairwise.t.test</a></span><span class="op">(</span><span class="va">dataOCStandardized</span><span class="op">$</span><span class="va">Width</span>, <span class="va">dataOCStandardized</span><span class="op">$</span><span class="va">Site</span>, 
                pool.sd <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Pairwise comparisons using t tests with non-pooled SD </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  dataOCStandardized$Width and dataOCStandardized$Site </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     ALP   OLD  </span>
<span class="co">#&gt; OLD 0.057 -    </span>
<span class="co">#&gt; TFC 0.138 0.138</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; P value adjustment method: holm</span></code></pre></div>
</div>
</div>
<div id="bibliography" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#bibliography" class="anchor"></a>Bibliography</h1>
<div id="refs" class="references">
<div id="ref-albarella2002size">
<p>Albarella, Umberto. 2002. “’Size Matters’: How and Why Biometry Is Still Important in Zooarchaeology, in: Dobney &amp; Connor (Eds.) Bones and the Man. Studies in Honour of Fon Brothwell.” Oxbow Books.</p>
</div>
<div id="ref-albarella2005neolithic">
<p>Albarella, Umberto, and Sebastian Payne. 2005. “Neolithic Pigs from Durrington Walls, Wiltshire, England: A Biometrical Database.” <em>Journal of Archaeological Science</em> 32 (4): 589–99.</p>
</div>
<div id="ref-davis1996measurements">
<p>Davis, Simon JM. 1996. “Measurements of a Group of Adult Female Shetland Sheep Skeletons from a Single Flock: A Baseline for Zooarchaeologists.” <em>Journal of Archaeological Science</em> 23 (4): 593–612.</p>
</div>
<div id="ref-davis1992rapid">
<p>Davis, SJ. 1992. “A Rapid Method for Recording Information About Mammal Bones from Archaeological Sites (Aml Report 19/92; English Heritage).” London.</p>
</div>
<div id="ref-meadow1999use">
<p>Meadow, Richard H. 1999. <em>The Use of Size Index Scaling Techniques for Research on Archaeozoological Collections from the Middle East</em>. na.</p>
</div>
<div id="ref-simpson1941large">
<p>Simpson, George Gaylord. 1941. “Large Pleistocene Felines of North America.” <em>American Museum Novitates</em> 1136: 1–27.</p>
</div>
<div id="ref-simpson1960quantitative">
<p>Simpson, GG, A Roe, and RC Lewontin. 1960. “Quantitative Zoology.,(Harcourt, Brace and Co.: New York.).”</p>
</div>
<div id="ref-trentacoste2018pre">
<p>Trentacoste, Angela, Ariadna Nieto-Espinet, and Silvia Valenzuela-Lamas. 2018. “Pre-Roman Improvements to Agricultural Production: Evidence from Livestock Husbandry in Late Prehistoric Italy.” <em>PloS One</em> 13 (12): e0208109.</p>
</div>
<div id="ref-valenzuela2008alimentacio">
<p>Valenzuela-Lamas, Silvia. 2008. <em>Alimentació I Ramaderia Al Penedès Durant La Protohistòria (Segles Vii-Iii aC)</em>.</p>
</div>
<div id="ref-von1976guide">
<p>Von den Driesch, Angela. 1976. <em>A Guide to the Measurement of Animal Bones from Archaeological Sites: As Developed by the Institut Für Palaeoanatomie, Domestikationsforschung Und Geschichte Der Tiermedizin of the University of Munich</em>. Vol. 1. Peabody Museum Press.</p>
</div>
<div id="ref-wickham2011ggplot2">
<p>Wickham, Hadley. 2011. “Ggplot2.” <em>Wiley Interdisciplinary Reviews: Computational Statistics</em> 3 (2): 180–85.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Jose M Pozo, Silvia Valenzuela-Lamas, Angela Trentacoste, Ariadna Nieto-Espinet, Silvia Guimarães Chiarelli.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
